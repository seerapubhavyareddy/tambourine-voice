Resources:
  # UDP ports for WebRTC media
  # aioice uses OS ephemeral ports (Linux: 32768-60999, IANA: 49152-65535)
  # Opening wide range to cover all systems
  WebRTCUDPIngress:
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      GroupId: {"Fn::GetAtt": ["AWSEBSecurityGroup", "GroupId"]}
      IpProtocol: udp
      FromPort: 32768
      ToPort: 65535
      CidrIp: 0.0.0.0/0

  # TCP port for HTTP signaling
  WebRTCTCPIngress:
    Type: AWS::EC2::SecurityGroupIngress
    Properties:
      GroupId: {"Fn::GetAtt": ["AWSEBSecurityGroup", "GroupId"]}
      IpProtocol: tcp
      FromPort: 8765
      ToPort: 8765
      CidrIp: 0.0.0.0/0
